(()=>{"use strict";var t={812:(t,e,i)=>{t.exports=i.p+"f58749924dff7ef706c5.png"},620:(t,e,i)=>{t.exports=i.p+"d8b958c8f02471abf8c1.png"},923:(t,e,i)=>{t.exports=i.p+"98e2772442fe74cc2226.png"},598:(t,e,i)=>{t.exports=i.p+"f328dc086155cedf8750.png"},456:(t,e,i)=>{t.exports=i.p+"276ba29e0f1167c990a0.png"}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var h=e[s]={exports:{}};return t[s](h,h.exports,i),h.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{class t{constructor(t){this.context=t.context,this.x=t.x,this.y=t.y,this.vx=t.vx,this.vy=t.vy,this.colliding=!1}update(t){}render(){}}class e extends t{constructor(t){super(t),this.height=0,this.width=0}update(t){this.x+=this.vx*t}render(){}}var s=i(456);class r extends e{constructor(t){super(t),this.currentFrame=0,this.radius=50,this.safeFrame=0,this.height=75,this.width=40,this.loadImage()}loadImage(){r.sprite||(r.sprite=new Image,r.sprite.src=s,r.sprite.onload=()=>{r.frameWidth=r.sprite.width/r.numColumns,r.frameHeight=r.sprite.height/r.numRows})}render(){this.safeFrame++,this.currentFrame>5&&(this.currentFrame=0),this.safeFrame>60&&(this.safeFrame=0);let t=this.currentFrame%r.numColumns,e=Math.floor(this.currentFrame/r.numColumns);this.context.drawImage(r.sprite,t*r.frameWidth,e*r.frameHeight,r.frameWidth,r.frameHeight,this.x-this.radius,this.y-this.radius-.4*this.radius,2*this.radius,2.42*this.radius),this.safeFrame%5==0&&this.currentFrame++}}r.numColumns=3,r.numRows=2,r.frameWidth=0,r.frameHeight=0;var h=i(812);class n extends t{constructor(t){super(t),this.speed=2,this.height=400,this.width=1e3,this.loadImage()}update(t){}loadImage(){n.sprite=new Image,n.sprite.src=h}render(){this.x-=this.speed,this.context.drawImage(n.sprite,this.x,this.y),this.context.drawImage(n.sprite,this.x-this.width,this.y),this.x<0&&(this.x=1e3)}}var a=i(923),c=i(620),o=i(598);class m extends t{constructor(t){super(t),this.currentFrame=0,this.radius=50,this.safeFrame=0,this.height=75,this.width=50,this.isJumping=!1,this.jumpLimit=225,this.isDucking=!1,this.canDuck=!0,this.loadImage()}update(t){this.jump(t),this.duck()}jump(t){m.sprite.src=a,this.y=this.y>350?350:this.y,this.isJumping&&(this.y+=this.vy*t,this.canDuck=!1,m.sprite.src=c),this.y<this.jumpLimit&&(this.vy=-this.vy),this.y>350&&(this.isJumping=!1,this.canDuck=!0,this.vy=-this.vy,m.sprite.src=a)}duck(){this.isDucking&&this.canDuck&&!this.isJumping&&(m.sprite.src=o,this.height=50)}loadImage(){m.sprite||(m.sprite=new Image,m.sprite.src=a,m.sprite.onload=()=>{m.frameWidth=m.sprite.width/m.numColumns,m.frameHeight=m.sprite.height/m.numRows})}render(){this.safeFrame++,this.currentFrame>5&&(this.currentFrame=0),this.safeFrame>60&&(this.safeFrame=0);let t=this.currentFrame%m.numColumns,e=Math.floor(this.currentFrame/m.numColumns);this.context.drawImage(m.sprite,t*m.frameWidth,e*m.frameHeight,m.frameWidth,m.frameHeight,this.x-this.radius,this.y-this.radius-.4*this.radius,2*this.radius,2.42*this.radius),this.safeFrame%5==0&&this.currentFrame++}}m.numColumns=3,m.numRows=2,m.frameWidth=0,m.frameHeight=0;class d{constructor(t,e,i,s){this.context=t,this.x=e,this.y=i,this.value=s}increaseScore(){this.value++}render(){this.context.fillStyle="black",this.context.font="25px Arial",this.context.textAlign="center",this.context.fillText(`Score: ${this.value}`,this.x,this.y)}}class l{constructor(t){this.context=t}render(){this.context.beginPath(),this.context.rect(250,100,190,100),this.context.fillStyle="#FFFFFF",this.context.fillStyle="rgba(225,225,225,0.5)",this.context.fillRect(25,72,32,32),this.context.fill(),this.context.lineWidth=2,this.context.strokeStyle="#000000",this.context.stroke(),this.context.closePath(),this.context.font="24pt Kremlin Pro Web",this.context.fillStyle="#000000",this.context.fillText("Restart",345,165)}}document.getElementById("my-button"),(new class{constructor(){this.position=0,this.rAF_id=0,this.startTime=0,this.elapsedTime=0,this.fps=0,this.rectX=0,this.rectY=0,this.gameTimePassed=0,this.enemies=[],this.enemySpawnRate=90,this.myText=document.getElementById("my-text"),this.canvas=document.getElementById("my-canvas"),this.context=this.canvas.getContext("2d"),this.canvas.tabIndex=1,this.canvas.focus(),this.score=new d(this.context,350,50,0),this.player=new m({context:this.context,x:50,y:350,vx:0,vy:-200}),this.background=new n({context:this.context,x:0,y:-300,vx:0,vy:0}),this.popup=new l(this.context)}initialize(){this.createWorld(),this.startTime=performance.now(),requestAnimationFrame(this.loop.bind(this))}createWorld(){this.enemies=[]}loop(t){this.elapsedTime=(t-this.startTime)/1e3,this.startTime=t,this.fps=Math.round(1/this.elapsedTime),this.elapsedTime=Math.min(this.elapsedTime,.1),this.spawnEnemy(),this.enemySpawnRate++;for(let t=0;t<this.enemies.length;t++)this.enemies[t].update(this.elapsedTime);if(this.handleInput(),this.detectCollision())return cancelAnimationFrame(this.rAF_id),this.popup.render(),!1;this.checkScore(),this.player.update(this.elapsedTime),this.clearCanvas(),this.background.render();for(let t=0;t<this.enemies.length;t++)this.enemies[t].render();this.player.render(),this.score.render(),this.rAF_id=requestAnimationFrame(this.loop.bind(this))}clearCanvas(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}handleInput(){this.canvas.addEventListener("keydown",this.keyDownEventHandler.bind(this),!1),this.canvas.addEventListener("keyup",this.keyUpEventHandler.bind(this),!1),this.canvas.addEventListener("click",this.clickEventHandler.bind(this),!1)}keyDownEventHandler(t){return"ArrowUp"==t.code&&(this.player.isJumping=!0),"ArrowDown"==t.code&&(this.player.isDucking=!0),!1}keyUpEventHandler(t){return"ArrowDown"==t.code&&(this.player.isDucking=!1),!1}clickEventHandler(t){if(this.detectCollision()){let e={x:250,y:100,width:190,height:100},i=this.getMousePosition(this.canvas,t);this.isInside(i,e)&&(this.player=new m({context:this.context,x:50,y:350,vx:0,vy:-200}),this.score=new d(this.context,350,50,0),this.initialize())}}detectCollision(){let t;for(let e=0;e<this.enemies.length;e++)if(t=this.enemies[e],this.rectIntersect(this.player.x,this.player.y,this.player.width,this.player.height,t.x,t.y,t.width,t.height))return!0}rectIntersect(t,e,i,s,r,h,n,a){return!(r>i+t||t>n+r||h>s+e||e>a+h)}checkScore(){this.enemies[0]&&this.enemies[0].x<0&&(this.score.increaseScore(),this.enemies.shift())}spawnEnemy(){let t=new r({context:this.context,x:Math.round(Math.random())?1400:1e3,y:350,vx:-300,vy:0});90==this.enemySpawnRate&&(this.enemies.push(t),this.enemySpawnRate=0)}getMousePosition(t,e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}isInside(t,e){return t.x>e.x&&t.x<e.x+e.width&&t.y<e.y+e.height&&t.y>e.y}}).initialize()})()})();