(()=>{"use strict";var t={645:(t,e,i)=>{t.exports=i.p+"assets/25f0d16bb8cae6f8511d.png"},958:(t,e,i)=>{t.exports=i.p+"assets/6423ac0013dd3434590f.png"},274:(t,e,i)=>{t.exports=i.p+"assets/292b1f762438fabbb367.png"},970:(t,e,i)=>{t.exports=i.p+"assets/e119c3226ab8bec33ee1.png"},235:(t,e,i)=>{t.exports=i.p+"assets/57839b3a70defc2da2b7.png"}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var h=e[s]={exports:{}};return t[s](h,h.exports,i),h.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{class t{constructor(t){this.context=t.context,this.x=t.x,this.y=t.y,this.vx=t.vx,this.vy=t.vy,this.colliding=!1}update(t){}render(){}}class e extends t{constructor(t){super(t),this.height=0,this.width=0}update(t){this.x+=this.vx*t}render(){}}var s=i(235);class r extends e{constructor(t){super(t),this.currentFrame=0,this.radius=50,this.safeFrame=0,this.height=75,this.width=40,this.loadImage()}loadImage(){r.sprite||(r.sprite=new Image,r.sprite.src=s,r.sprite.onload=()=>{r.frameWidth=r.sprite.width/r.numColumns,r.frameHeight=r.sprite.height/r.numRows})}render(){this.safeFrame++,this.currentFrame>5&&(this.currentFrame=0),this.safeFrame>60&&(this.safeFrame=0);let t=this.currentFrame%r.numColumns,e=Math.floor(this.currentFrame/r.numColumns);this.context.drawImage(r.sprite,t*r.frameWidth,e*r.frameHeight,r.frameWidth,r.frameHeight,this.x-this.radius,this.y-this.radius-.4*this.radius,2*this.radius,2.42*this.radius),this.safeFrame%5==0&&this.currentFrame++}}r.numColumns=3,r.numRows=2,r.frameWidth=0,r.frameHeight=0;var h=i(645);class n extends t{constructor(t){super(t),this.speed=2,this.height=400,this.width=1e3,this.loadImage()}update(t){}loadImage(){n.sprite=new Image,n.sprite.src=h}render(){this.x-=this.speed,this.context.drawImage(n.sprite,this.x,this.y),this.context.drawImage(n.sprite,this.x-this.width,this.y),this.x<0&&(this.x=1e3)}}var a=i(274),c=i(958),o=i(970);class d extends t{constructor(t){super(t),this.jumpingSprite="",this.slidingSprite="",this.currentFrame=0,this.radius=50,this.safeFrame=0,this.height=75,this.width=50,this.isJumping=!1,this.jumpLimit=225,this.isDucking=!1,this.canDuck=!0,this.jumpingSprite=c,this.slidingSprite=o,this.loadImage()}update(t){d.sprite.src=a,this.jump(t),this.duck()}jump(t){this.y=this.y>350?350:this.y,this.isJumping&&(d.sprite.src=this.jumpingSprite,this.y+=this.vy*t,this.canDuck=!1,this.y<this.jumpLimit&&(this.vy=-this.vy),this.y>350&&(this.isJumping=!1,this.canDuck=!0,this.vy=-this.vy,d.sprite.src=a))}duck(){this.isDucking&&this.canDuck&&!this.isJumping&&(d.sprite.src=this.slidingSprite,this.height=50)}loadImage(){d.sprite||(d.sprite=new Image,d.sprite.src=a,d.sprite.onload=()=>{d.frameWidth=d.sprite.width/d.numColumns,d.frameHeight=d.sprite.height/d.numRows})}render(){this.safeFrame++,this.currentFrame>5&&(this.currentFrame=0),this.safeFrame>60&&(this.safeFrame=0);let t=this.currentFrame%d.numColumns,e=Math.floor(this.currentFrame/d.numColumns);this.context.drawImage(d.sprite,t*d.frameWidth,e*d.frameHeight,d.frameWidth,d.frameHeight,this.x-this.radius,this.y-this.radius-.4*this.radius,2*this.radius,2.42*this.radius),this.safeFrame%5==0&&this.currentFrame++}}d.numColumns=3,d.numRows=2,d.frameWidth=0,d.frameHeight=0;class m{constructor(t,e,i,s){this.context=t,this.x=e,this.y=i,this.value=s}increaseScore(){this.value++}render(){this.context.fillStyle="black",this.context.font="25px Arial",this.context.textAlign="center",this.context.fillText(`Score: ${this.value}`,this.x,this.y)}}class l{constructor(t){this.context=t}render(){this.context.beginPath(),this.context.rect(250,100,190,100),this.context.fillStyle="#FFFFFF",this.context.fillStyle="rgba(225,225,225,0.5)",this.context.fillRect(25,72,32,32),this.context.fill(),this.context.lineWidth=2,this.context.strokeStyle="#000000",this.context.stroke(),this.context.closePath(),this.context.font="24pt Kremlin Pro Web",this.context.fillStyle="#000000",this.context.fillText("Restart",345,165)}}document.getElementById("my-button"),(new class{constructor(){this.position=0,this.rAF_id=0,this.startTime=0,this.elapsedTime=0,this.fps=0,this.rectX=0,this.rectY=0,this.gameTimePassed=0,this.enemies=[],this.enemySpawnRate=90,this.myText=document.getElementById("my-text"),this.canvas=document.getElementById("my-canvas"),this.context=this.canvas.getContext("2d"),this.canvas.tabIndex=1,this.canvas.focus(),this.score=new m(this.context,350,50,0),this.player=new d({context:this.context,x:50,y:350,vx:0,vy:-200}),this.background=new n({context:this.context,x:0,y:-300,vx:0,vy:0}),this.popup=new l(this.context)}initialize(){this.createWorld(),this.startTime=performance.now(),requestAnimationFrame(this.loop.bind(this))}createWorld(){this.enemies=[]}loop(t){this.elapsedTime=(t-this.startTime)/1e3,this.startTime=t,this.fps=Math.round(1/this.elapsedTime),this.elapsedTime=Math.min(this.elapsedTime,.1),this.spawnEnemy(),this.enemySpawnRate++;for(let t=0;t<this.enemies.length;t++)this.enemies[t].update(this.elapsedTime);if(this.handleInput(),this.detectCollision())return cancelAnimationFrame(this.rAF_id),this.popup.render(),!1;this.checkScore(),this.player.update(this.elapsedTime),this.clearCanvas(),this.background.render();for(let t=0;t<this.enemies.length;t++)this.enemies[t].render();this.player.render(),this.score.render(),this.rAF_id=requestAnimationFrame(this.loop.bind(this))}clearCanvas(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}handleInput(){this.canvas.addEventListener("keydown",this.keyDownEventHandler.bind(this),!1),this.canvas.addEventListener("keyup",this.keyUpEventHandler.bind(this),!1),this.canvas.addEventListener("click",this.clickEventHandler.bind(this),!1)}keyDownEventHandler(t){return"ArrowUp"==t.code&&(this.player.isJumping=!0),"ArrowDown"==t.code&&(this.player.isDucking=!0),!1}keyUpEventHandler(t){return"ArrowDown"==t.code&&(this.player.isDucking=!1),!1}clickEventHandler(t){if(this.detectCollision()){let e={x:250,y:100,width:190,height:100},i=this.getMousePosition(this.canvas,t);this.isInside(i,e)&&(this.player=new d({context:this.context,x:50,y:350,vx:0,vy:-200}),this.score=new m(this.context,350,50,0),this.initialize())}}detectCollision(){let t;for(let e=0;e<this.enemies.length;e++)if(t=this.enemies[e],this.rectIntersect(this.player.x,this.player.y,this.player.width,this.player.height,t.x,t.y,t.width,t.height))return!0}rectIntersect(t,e,i,s,r,h,n,a){return!(r>i+t||t>n+r||h>s+e||e>a+h)}checkScore(){this.enemies[0]&&this.enemies[0].x<0&&(this.score.increaseScore(),this.enemies.shift())}spawnEnemy(){let t=new r({context:this.context,x:Math.round(Math.random())?1400:1e3,y:350,vx:-300,vy:0});90==this.enemySpawnRate&&(this.enemies.push(t),this.enemySpawnRate=0)}getMousePosition(t,e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}isInside(t,e){return t.x>e.x&&t.x<e.x+e.width&&t.y<e.y+e.height&&t.y>e.y}}).initialize()})()})();