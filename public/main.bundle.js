(()=>{"use strict";var t={279:(t,e,i)=>{t.exports=i.p+"assets/25f0d16bb8cae6f8511d.png"},958:(t,e,i)=>{t.exports=i.p+"assets/6423ac0013dd3434590f.png"},274:(t,e,i)=>{t.exports=i.p+"assets/292b1f762438fabbb367.png"},970:(t,e,i)=>{t.exports=i.p+"assets/e119c3226ab8bec33ee1.png"},235:(t,e,i)=>{t.exports=i.p+"assets/57839b3a70defc2da2b7.png"}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t=i(235);class e{constructor(){this.images=[]}load(t){return t.forEach((t=>{const e=new Image;e.src=t.url,e.onload=()=>{},this.images.push(Object.assign(Object.assign({},t),{src:e}))})),this.images[0]}getImage(t){return this.images.find((e=>e.name==t))}}class s{constructor(t,e,i,s,r,n,h,a){this.safeFrame=0,this.currentFrame=0,this.frameWidth=0,this.frameHeight=0,this.canvas=t,this.context=e,this.image=i,this.numColumns=n,this.numRows=h,this.image.onload=()=>{this.frameWidth=this.image.width/n,this.frameHeight=this.image.height/h},this.x=s,this.y=r,this.radius=a}animationObjectRenderer(){if(!this.radius)return;this.safeFrame++,this.currentFrame>5&&(this.currentFrame=0),this.safeFrame>60&&(this.safeFrame=0);let t=this.currentFrame%this.numColumns,e=Math.floor(this.currentFrame/this.numColumns);this.context.drawImage(this.image,t*this.frameWidth,e*this.frameHeight,this.frameWidth,this.frameHeight,this.x-this.radius,this.y-this.radius-.4*this.radius,2*this.radius,2.42*this.radius),this.safeFrame%5==0&&this.currentFrame++}backgroundRenderer(t){t.x-=t.speed,this.context.drawImage(this.image,t.x,t.y),this.context.drawImage(this.image,t.x-t.width,t.y),t.x<0&&(t.x=t.width)}clearCanvas(t){this.context.clearRect(0,0,t.width,t.height)}}class r{constructor(i,r){this.canvas=r,this.context=i.context,this.x=i.x,this.y=i.y,this.vx=i.vx,this.vy=i.vy,this.height=75,this.width=50,this.animationObject={x:this.x,y:this.y,radius:50};const n=(new e).load([{name:"zombiesprite",url:t}]).src;this.renderer=new s(this.canvas,this.context,n,this.x,this.y,3,2,50)}update(t){this.renderer.x+=this.vx*t,this.x+=this.vx*t}render(){this.renderer.animationObjectRenderer()}}var n=i(279);class h{constructor(t,i){this.canvas=i,this.context=t,this.background={x:0,y:-300,width:1e3,height:400,speed:2};const r=(new e).load([{name:"backgroundimage",url:n}]).src;this.renderer=new s(this.canvas,this.context,r,0,-300)}render(){this.renderer.backgroundRenderer(this.background)}}var a=i(274),c=i(958),o=i(970);class d extends class{constructor(t){this.context=t.context,this.x=t.x,this.y=t.y,this.vx=t.vx,this.vy=t.vy}}{constructor(t,i,r){super(t),this.radius=50,this.jumpLimit=225,this.userInput=r,this.height=75,this.width=50,this.isJumping=!1,this.isDucking=!1,this.canDuck=!0,this.canvas=i,this.animationObject={x:this.x,y:this.y,radius:this.radius},this.imageLoader=new e;const n=this.imageLoader.load([{name:"runningsprite",url:a},{name:"jumpingsprite",url:c},{name:"slidingsprite",url:o}]).src;this.jumpingSprite=this.imageLoader.getImage("jumpingsprite").src,this.slidingSprite=this.imageLoader.getImage("slidingsprite").src,this.runningSprite=this.imageLoader.getImage("runningsprite").src,this.renderer=new s(this.canvas,this.context,n,this.x,this.y,3,2,50)}update(t){this.runningSprite&&this.renderNewSprite(this.runningSprite),this.jump(t),this.duck()}jump(t){this.renderer.y=this.renderer.y>350?350:this.renderer.y,this.y=this.renderer.y>350?350:this.renderer.y,this.isJumping&&(this.jumpingSprite&&this.renderNewSprite(this.jumpingSprite),this.renderer.y+=this.vy*t,this.y+=this.vy*t,this.canDuck=!1,this.renderer.y<this.jumpLimit&&(this.vy=-this.vy),this.renderer.y>350&&(this.isJumping=!1,this.canDuck=!0,this.vy=-this.vy,this.runningSprite&&this.renderNewSprite(this.runningSprite)))}duck(){this.isDucking&&this.canDuck&&!this.isJumping&&(this.slidingSprite&&this.renderNewSprite(this.slidingSprite),this.height=50)}render(){this.renderer.animationObjectRenderer()}renderNewSprite(t){this.renderer.image=t}}class l{constructor(t){this.textObject=t}textRenderer(){this.textObject.context.fillStyle="black",this.textObject.context.font="25px Arial",this.textObject.context.textAlign="center",this.textObject.context.fillText(`${this.textObject.text}: ${this.textObject.value}`,this.textObject.x,this.textObject.y)}}class p{constructor(t){this.textObject=t,this.renderer=new l(this.textObject)}increaseScore(){this.textObject.value++}render(){this.renderer.textRenderer()}}class g{constructor(t){this.rectangleObject=t}rectangleRenderer(){let t="Restart",e=this.rectangleObject.context.measureText(t).width;this.rectangleObject.context.beginPath(),this.rectangleObject.context.rect(this.rectangleObject.x,this.rectangleObject.y,this.rectangleObject.width,this.rectangleObject.height),this.rectangleObject.context.fillStyle="#FFFFFF",this.rectangleObject.context.fillStyle="rgba(225,225,225,0.5)",this.rectangleObject.context.fillRect(this.rectangleObject.x,this.rectangleObject.y,this.rectangleObject.width,this.rectangleObject.height),this.rectangleObject.context.fill(),this.rectangleObject.context.lineWidth=2,this.rectangleObject.context.strokeStyle="#000000",this.rectangleObject.context.stroke(),this.rectangleObject.context.closePath(),this.rectangleObject.context.font="24pt Kremlin Pro Web",this.rectangleObject.context.fillStyle="#000000",this.rectangleObject.context.fillText(t,375-e/2,212)}}class u{constructor(t){this.rectangleObject=t,this.renderer=new g(this.rectangleObject)}render(){this.renderer.rectangleRenderer()}}class m{constructor(t,e,i,s,r){this.elapsedTime=0,this.startTime=0,this.fps=0,this.rAF_id=0,this.renderCallbacks=[],this.updateCallbacks=[],this.canvas=t,this.handleUserInput=e,this.renderCallbacks=i,this.updateCallbacks=s,this.gameLogic=r,this.isGameOver=!1}initialize(){requestAnimationFrame(this.loop.bind(this))}loop(t){if(this.isGameOver)return this.handleUserInput=()=>{},this.renderCallbacks=[],this.updateCallbacks=[],this.gameLogic=()=>{},!1;this.elapsedTime=(t-this.startTime)/1e3,this.startTime=t,this.fps=Math.round(1/this.elapsedTime),this.elapsedTime=Math.min(this.elapsedTime,.1),this.gameLogic(),this.handleUserInput(),this.handleUpdate(this.elapsedTime),this.handleRender(),this.rAF_id=requestAnimationFrame(this.loop.bind(this))}handleUpdate(t){this.updateCallbacks.forEach((e=>{e(t)}))}handleRender(){this.renderCallbacks.forEach((t=>{t()}))}}class x{constructor(t){this.canvas=t}handleKeydownInput(t,e){this.canvas.addEventListener("keydown",(i=>{t==i.code&&e()}).bind(this),!1)}handleKeyupInput(t,e){this.canvas.addEventListener("keyup",(i=>{t==i.code&&e()}).bind(this),!1)}handleClickInput(t,e){this.canvas.addEventListener("click",(i=>{let s=this.getMousePosition(this.canvas,i);this.isClickInside(s,t)&&e()}).bind(this),!1)}getMousePosition(t,e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}isClickInside(t,e){return t.x>e.x&&t.x<e.x+e.width&&t.y<e.y+e.height&&t.y>e.y}}document.getElementById("my-button"),(new class{constructor(){this.rectX=0,this.rectY=0,this.enemySpawnRate=90,this.zombies=[],this.canvas=document.getElementById("my-canvas"),this.context=this.canvas.getContext("2d"),this.canvas.tabIndex=1,this.canvas.focus(),this.inputHanlder=new x(this.canvas),this.score=new p({context:this.context,text:"Score",x:350,y:50,value:0}),this.background=new h(this.context,this.canvas),this.player=new d({context:this.context,x:50,y:350,vx:0,vy:-200},this.canvas,this.getUserInput.bind(this)),this.popup=new u({context:this.context,x:250,y:150,width:250,height:100}),this.gameLoop=new m(this.canvas,this.player.userInput,[this.background.render.bind(this.background),this.player.render.bind(this.player),this.score.render.bind(this.score)],[this.player.update.bind(this.player)],this.gameLogic.bind(this))}initialize(){this.zombies=[],this.enemySpawnRate=90,this.score=new p({context:this.context,text:"Score",x:350,y:50,value:0}),this.background=new h(this.context,this.canvas),this.player=new d({context:this.context,x:50,y:350,vx:0,vy:-200},this.canvas,this.getUserInput.bind(this)),this.gameLoop.handleUserInput=this.player.userInput.bind(this.player),this.gameLoop.renderCallbacks=[this.background.render.bind(this.background),this.player.render.bind(this.player),this.score.render.bind(this.score)],this.gameLoop.updateCallbacks=[this.player.update.bind(this.player)],this.gameLoop.gameLogic=this.gameLogic.bind(this),this.gameLoop.isGameOver=!1,this.gameLoop.initialize()}gameLogic(){this.spawnEnemy(),this.enemySpawnRate++,this.checkScore(),this.detectCollision()&&(cancelAnimationFrame(this.gameLoop.rAF_id),this.gameLoop.renderCallbacks.push(this.popup.render.bind(this.popup)),this.gameLoop.isGameOver=!0)}spawnEnemy(){let t=new r({context:this.context,x:Math.round(Math.random())?1400:1e3,y:350,vx:-300,vy:0},this.canvas);90==this.enemySpawnRate&&(this.gameLoop.updateCallbacks.push(t.update.bind(t)),this.gameLoop.renderCallbacks.push(t.render.bind(t)),this.zombies.push(t),this.enemySpawnRate=0)}checkScore(){this.zombies[0]&&this.zombies[0].x<0&&(this.score.increaseScore(),this.zombies.shift(),this.gameLoop.updateCallbacks.splice(1,1),this.gameLoop.renderCallbacks.splice(3,1))}detectCollision(){let t;for(let e=0;e<this.zombies.length;e++)if(t=this.zombies[e],this.rectIntersect(this.player.x,this.player.y,this.player.width,this.player.height,t.x,t.y,t.width,t.height))return!0}rectIntersect(t,e,i,s,r,n,h,a){return!(r>i+t||t>h+r||n>s+e||e>a+n)}getUserInput(){const t=new x(this.canvas);t.handleKeydownInput("ArrowUp",(()=>{this.player.isJumping=!0})),t.handleKeydownInput("ArrowDown",(()=>{this.player.isDucking=!0})),t.handleKeyupInput("ArrowDown",(()=>{this.player.isDucking=!1})),t.handleClickInput({x:250,y:150,width:250,height:100},(()=>{this.detectCollision()&&this.initialize()}))}}).gameLoop.initialize()})()})();